{
    "collab_server" : "",
    "contents" : "require(lavaan)\nrequire(psych)\nrequire(semPlot)\n\nnew_data <- read.csv(\"nsfs/nsfs_simulated.csv\")\n\nreversed_items <- c(2,4,5,8,10,11,13,15,18)\nnew_data[reversed_items] <- 6-new_data[reversed_items]\n\nmodel1 <- \"\n          autonomy   =~ nsfs1 + nsfs2 + nsfs3 + nsfs4 + nsfs5 + nsfs6\n          social     =~ nsfs7 + nsfs8 + nsfs9 + nsfs10 + nsfs11 + nsfs12\n          competence =~ nsfs13 + nsfs14 + nsfs15 + nsfs16 + nsfs17 + nsfs18\n\"\n\n\n \n\n#org_fit <- cfa(model = model1, data = org_data, mimic = \"Mplus\")\nnew_fit <- cfa(model = model1, data = new_data, mimic = \"Mplus\")\n\ncapture.output(summary(new_fit, standardized=TRUE), file = \"nsfs/new.txt\")\n#capture.output(summary(org_fit, standardized=TRUE), file = \"simulate nsfs/org.txt\")\n??semPaths\n\nmodel2 <- \"\n          autonomy   =~ nsfs1 + nsfs2 + nsfs3 + nsfs4 + nsfs5 + nsfs6\n          social     =~ nsfs7 + nsfs8 + nsfs9 + nsfs10 + nsfs11 + nsfs12\n          competence =~ nsfs13 + nsfs14 + nsfs15 + nsfs16 + nsfs17 + nsfs18\n          reversed   =~ nsfs2 + nsfs4 + nsfs5 + nsfs8 + nsfs10 + nsfs11 + nsfs13 + nsfs15 + nsfs18\n\"\n\nmodel3 <- \"\n          as =~ nsfs1 + nsfs3 + nsfs6\n          af =~ nsfs2 + nsfs4 + nsfs5\n          ss =~ nsfs7 + nsfs9 + nsfs12\n          sf =~ nsfs8 + nsfs10 + nsfs11\n          cs =~ nsfs14 + nsfs16 + nsfs17\n          cf =~ nsfs13 + nsfs15 + nsfs18\n\"\nmodel4 <- \"\n          as =~ nsfs1 + nsfs3 + nsfs6\n          af =~ nsfs2 + nsfs4 + nsfs5\n          ss =~ nsfs7 + nsfs9 + nsfs12\n          sf =~ nsfs8 + nsfs10 + nsfs11\n          cs =~ nsfs14 + nsfs16 + nsfs17\n          cf =~ nsfs13 + nsfs15 + nsfs18\n          sat =~   nsfs1 + nsfs3 + nsfs6 + nsfs7 + nsfs9 + nsfs12 + nsfs14 + nsfs16 + nsfs17\n          frust =~ nsfs2 + nsfs4 + nsfs5 + nsfs8 + nsfs10 + nsfs11 + nsfs13 + nsfs15 + nsfs18\n\"\nmodel5 <- \"\n          autonomy   =~ nsfs1 + nsfs2 + nsfs3 + nsfs4 + nsfs5 + nsfs6\n          social     =~ nsfs7 + nsfs8 + nsfs9 + nsfs10 + nsfs11 + nsfs12\n          competence =~ nsfs13 + nsfs14 + nsfs15 + nsfs16 + nsfs17 + nsfs18\n          sat        =~ nsfs1 + nsfs3 + nsfs6 + nsfs7 + nsfs9 + nsfs12 + nsfs14 + nsfs16 + nsfs17\n          frust      =~ nsfs2 + nsfs4 + nsfs5 + nsfs8 + nsfs10 + nsfs11 + nsfs13 + nsfs15 + nsfs18\n\"\n\nsem_model <- \"\n          a =~ nsfs1 + nsfs2 + nsfs3 + nsfs4 + nsfs5 + nsfs6\n          s =~ nsfs7 + nsfs8 + nsfs9 + nsfs10 + nsfs11 + nsfs12\n          c =~ nsfs13 + nsfs14 + nsfs15 + nsfs16 + nsfs17 + nsfs18\n          swls ~ a + s + c\n\"\n\nsem_model2 <- \"\n          a =~ nsfs1 + nsfs2 + nsfs3 + nsfs4 + nsfs5 + nsfs6\n          s =~ nsfs7 + nsfs8 + nsfs9 + nsfs10 + nsfs11 + nsfs12\n          c =~ nsfs13 + nsfs14 + nsfs15 + nsfs16 + nsfs17 + nsfs18\n          swls ~ a + s + c\n          scas_1 =~ scas1 + scas2\n          scas_2 =~ scas3 + scas4\n          scas_3 =~ scas5 + scas6\n          scas_1 ~ a + s + c\n          scas_2 ~ a + s + c\n          scas_3 ~ a + s + c\n\"\n\n\nfitm <- c(\"chisq\", \"df\", \"rmsea\", \"cfi\", \"tli\", \"srmr\", \"aic\", \"bic\")\nnew_fit2 <- cfa(model = model2, data = new_data, mimic = \"Mplus\")\nnew_fit3 <- cfa(model = model3, data = new_data, mimic = \"Mplus\")\nnew_fit5 <- cfa(model = model5, data = new_data, mimic = \"Mplus\")\nsem_fit <- sem(model = sem_model, data = new_data, mimic = \"Mplus\")\nsem_fit2 <- sem(model = sem_model2, data = new_data, mimic = \"Mplus\")\nround(fitmeasures(new_fit)[fitm],3)\n#round(fitmeasures(org_fit)[fitm],3)\nround(fitmeasures(new_fit2)[fitm],3)\nround(fitmeasures(new_fit3)[fitm],3)\nround(fitmeasures(new_fit5)[fitm],3)\nres <- residuals(new_fit)\nutils::View(round(res$cov,3))\nanova(new_fit2, new_fit3)\nnew_fit2\nnew_fit3\nresid(new_fit)\nsemPaths(sem_fit2, style = \"lisrel\")\n\ncapture.output(summary(sem_fit2, standardized=TRUE), file = \"simulate nsfs/semout2.txt\")\n\nmodificationindices(new_fit, sort. = T)\n\nfit <- fa(new_data[20:25], rotate = \"varimax\", nfactors = 2)\nplot(fit$loadings)\n\ncor(new_data[20:25])\n",
    "created" : 1537012555932.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "617867183",
    "id" : "3149335E",
    "lastKnownWriteTime" : 1537013052,
    "last_content_update" : 1537037610442,
    "path" : "C:/Users/Jon/Dropbox/Simulation_better/analyser.R",
    "project_path" : "analyser.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}